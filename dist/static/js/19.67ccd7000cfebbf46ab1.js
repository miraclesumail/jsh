webpackJsonp([19],{"2VbA":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Dd8w"),o=s.n(a),n=s("NYxO"),i={name:"modify_tel",data:function(){return{reciprocal:0,timer:null,eye:!1,sendData:{oldPassword:"",newPassword:"",smsCode:""}}},methods:o()({},Object(n.b)(["setLogin"]),{getCode:function(){var e=this;this.reciprocal||this.validate(1)||this.$api.sendSMSCodeToPlayer({purpose:"updatePassword"}).then(function(t){e.reciprocalFun()})},reciprocalFun:function(){var e=this;this.reciprocal=60,this.timer=setInterval(function(){e.reciprocal--,0==e.reciprocal&&clearInterval(e.timer)},1e3)},validate:function(e){var t="";return this.sendData.oldPassword||(t="请输入旧密码"),t||(t=this.$tool.password(this.sendData.newPassword)),!t&&1!=e&&this.platform.needSMSForModifyPassword&&(t=this.$tool.smsCode(this.sendData.smsCode)),t&&this.$tool.CONFIRM({text:"新"+t}),!!t},send:function(){var e=this;this.validate()||(this.platform.needSMSForModifyPassword||delete this.sendData.smsCode,this.$api.updatePassword(this.sendData).then(function(t){e.$tool.CONFIRM({text:"密码修改成功!",okFun:function(){e.$router.go(-1)}})}))}}),mounted:function(){},computed:o()({},Object(n.d)(["platform","cfUrl","player"]))},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modify_tel"},[s("crumbs",{attrs:{icon:"icon_password",title:"修改账户密码"}}),e._v(" "),s("div",{staticClass:"form_box2"},[s("div",{staticClass:"item item_input",attrs:{flex:"box:first cross:center"}},[s("div",{staticClass:"name"},[e._v("旧密码")]),e._v(" "),s("div",{staticClass:"text_box",attrs:{flex:"cross:center"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.sendData.oldPassword,expression:"sendData.oldPassword"}],attrs:{type:"text",placeholder:"请输入旧密码"},domProps:{value:e.sendData.oldPassword},on:{input:function(t){t.target.composing||e.$set(e.sendData,"oldPassword",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"item item_input",attrs:{flex:"box:first cross:center"}},[s("div",{staticClass:"name"},[e._v("新密码")]),e._v(" "),s("div",{staticClass:"text_box",attrs:{flex:"cross:center box:last"}},[e.eye?s("input",{directives:[{name:"model",rawName:"v-model",value:e.sendData.newPassword,expression:"sendData.newPassword"}],attrs:{type:"text",placeholder:"请输入旧密码"},domProps:{value:e.sendData.newPassword},on:{input:function(t){t.target.composing||e.$set(e.sendData,"newPassword",t.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.sendData.newPassword,expression:"sendData.newPassword"}],attrs:{type:"password",placeholder:"请输入旧密码"},domProps:{value:e.sendData.newPassword},on:{input:function(t){t.target.composing||e.$set(e.sendData,"newPassword",t.target.value)}}}),e._v(" "),s("div",{staticClass:"eye",attrs:{flex:"main:center cross:center"},on:{click:function(t){e.eye=!e.eye}}},[s("div",{class:e.eye?"icon_eye_open":"icon_eye_close"})])])]),e._v(" "),e.platform.needSMSForModifyPassword?s("div",{staticClass:"item item_input",attrs:{flex:"box:first cross:center"}},[s("div",{staticClass:"name"},[e._v("验证码")]),e._v(" "),s("div",{staticClass:"text_box",attrs:{flex:"cross:center box:last"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.sendData.smsCode,expression:"sendData.smsCode"}],attrs:{type:"tel",maxlength:"4",placeholder:"请输入短信验证码"},domProps:{value:e.sendData.smsCode},on:{input:function(t){t.target.composing||e.$set(e.sendData,"smsCode",t.target.value)}}}),e._v(" "),e.reciprocal?s("span",{staticClass:"get_code red"},[e._v(e._s(e.reciprocal)+"s")]):s("div",{staticClass:"get_code",on:{click:e.getCode}},[e._v("获取验证码")])])]):e._e(),e._v(" "),s("div",{staticClass:"item item_btn"},[s("div",{staticClass:"btn",on:{click:e.send}},[e._v("确认修改")])])])],1)},staticRenderFns:[]},d=s("VU/8")(i,r,!1,null,null,null);t.default=d.exports}});