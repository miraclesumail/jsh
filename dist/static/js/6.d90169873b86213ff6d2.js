webpackJsonp([6],{"5zde":function(t,e,a){a("zQR9"),a("qyJz"),t.exports=a("FeBl").Array.from},"9E+O":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Gu7T"),n=a.n(s),i=a("Dd8w"),r=a.n(i),o=a("NYxO"),c=a("XBzK"),l={name:"search_account",data:function(){return{tabNav:0,navs:[{name:"存款记录",icon:"icon_cun"},{name:"提款记录",icon:"icon_qu"},{name:"优惠记录",icon:"icon_youhui"},{name:"投注记录",icon:"icon_jilv3"}],sendData:{startTime:this.$tool.getFormat(new Date((new Date).setHours(0,0,0,0)-864e5)),endTime:this.$tool.getFormat(new Date((new Date).setHours(0,0,0,0)+864e5-1e3)),type:null,startIndex:0,requestCount:10},records:[],typeName:{Pending:"待审核",Processing:"已审核",AutoAudit:"待审核",Approved:"已处理",Success:"已处理",Rejected:"已取消",Fail:"已取消",Cancel:"已取消",PrePending:"已取消",CsPending:"待审核",Undetermined:"已审核",Recover:"已审核"},searchDate:[{name:"存款记录",type:"存款类型",icon:"icon-shiliangzhinengduixiang201",color:"#fdcf72",th:["订单号","时间","金额","方式"],activeType:null,prop:"25%",stats:null,list:[{type:null,nickName:"全部"},{type:1,nickName:"手动充值"},{type:2,nickName:"在线充值"},{type:3,nickName:"个人支付宝"},{type:4,nickName:"微信转账"}],records:null},{name:"提款记录",type:"提款状态",icon:"icon-xianjindai",color:"#86dfb8",th:["订单号","时间","金额","状态"],activeType:null,prop:"20%",stats:null,list:[{type:null,nickName:"全部"},{type:["Pending","AutoAudit","CsPending"],nickName:"待审核"},{type:["Processing","Undetermined","Recover"],nickName:"已审核"},{type:["Approved","Success"],nickName:"已处理"},{type:["Rejected","Fail","Cancel","PrePending"],nickName:"已取消"}],records:null},{name:"优惠记录",type:"优惠类型",icon:"icon-youhuijilu",color:"#00bff3",th:["类型","金额","时间","状态"],activeType:1,prop:"25%",stats:null,list:[{type:1,nickName:"全部"}],records:null},{name:"投注记录",type:"投注大厅",th:["游戏","局号","投注额","派彩金额","时间"],activeType:null,prop:"20%",stats:null,list:[],records:null}]}},computed:r()({},Object(o.d)(["wallet","reProvider","providerTeam"])),components:{TabNavs:c.a},methods:r()({},Object(o.b)(["setWallet"]),{search:function(t){var e=this;if(new Date(this.sendData.endTime).getTime()-new Date(this.sendData.startTime).getTime()<0)this.$tool.ALERT({text:"请选择正确的查询时间周期",type:"warn"});else if((new Date).setHours(0,0,0,0)-12096e5-new Date(this.sendData.startTime).getTime()>0)this.$tool.ALERT({text:"记录搜索仅支持14天内的查询",type:"warn"});else{var a="getTopupList",s=this.sendData;if(0==this.tabNav&&(a="getTopupList",s=this.$tool.changeKey(this.sendData,"type","topUpType",!0)),1==this.tabNav){if(a="getBonusRequestList",this.sendData.type)return this.searchDate[this.tabNav].activeType=this.sendData.type,void this.sendData.type.map(function(t,s){e.sendData.status=t,a(e.sendData).then(function(t){e.records=[].concat(n()(e.records),n()(t.data.records)),e.searchDate[e.tabNav].records=e.records})});this.sendData.status=null}2==this.tabNav&&(a="getPlayerRewardList",s=this.sendData),3==this.tabNav&&(a="search",s=this.$tool.changeKey(this.sendData,"type","providerId",!0)),s.startIndex=t>0?t:0,this.$api[a](s).then(function(t){e.searchDate[e.tabNav].activeType=e.sendData.type,t.data.records.length||e.$tool.ALERT({text:"无记录"}),e.searchDate[e.tabNav].records=t.data.records,e.records=t.data.records,e.stats=t.data.stats})}},open:function(t){this.$tool.CONFIRM({title:"详情",text:"<div style='text-align: left;'>游戏名字："+t.name+"<br/>游戏局号："+t.orderNo+"<br/>投注金额："+t.validAmount.toFixed(2)+"元<br/>派彩金额："+t.bonusAmount.toFixed(2)+"元<br/>投注时间："+t.createTime.getDate().substr(5)+"</div>"})},getProviderList:function(){var t=this.wallet.data.gameCreditList,e=this.$tool.changeKey(t,"providerId","type");for(var a in this.searchDate[3].list=[{type:null,nickName:"全部"}],e)this.searchDate[3].list.push(e[a])},cancel:function(t){var e=this;this.$api.cancelBonusRequest({proposalId:t.proposalId}).then(function(t){e.search(),e.$tool.ALERT({text:"取消成功"})})}}),mounted:function(){this.wallet.data.gameCreditList?this.getProviderList():this.setWallet(this.getProviderList),this.$route.query.type&&(this.tabNav=Number(this.$route.query.nav),this.search())},watch:{tabNav:function(){this.sendData.type=this.searchDate[this.tabNav].activeType,this.nowPage=0,this.searchDate[this.tabNav].records?this.records=this.searchDate[this.tabNav].records:this.records=[]}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search_account"},[a("crumbs",{attrs:{icon:"icon_jilv",title:"账号记录"}}),t._v(" "),t.records.length?t._e():a("TabNavs",{attrs:{list:t.navs},model:{value:t.tabNav,callback:function(e){t.tabNav=e},expression:"tabNav"}}),t._v(" "),t.records.length?a("div",{staticClass:"table_box"},[a("table",[a("thead",t._l(t.searchDate[t.tabNav].th,function(e,s){return a("th",{key:s,style:{width:t.searchDate[t.tabNav].prop}},[t._v("\n                "+t._s(e)+"\n            ")])})),t._v(" "),t._l(t.records,function(e,s){return t.records&&0==t.tabNav?a("tr",{key:s},[a("td",[t._v(t._s(e.proposalId))]),t._v(" "),a("td",[t._v(t._s(e.createTime.getDate().substr(5,11)))]),t._v(" "),a("td",[t._v(t._s(e.amount)+"元")]),t._v(" "),a("td",[t._v(t._s(["手动充值","在线充值","个人支付宝","微信转账"][e.topUpType-1]))])]):t._e()}),t._v(" "),t._l(t.records,function(e,s){return t.records&&1==t.tabNav?a("tr",{key:s},[t.searchDate[t.tabNav].list[1].type.includes(e.status)?a("td",{on:{click:function(a){t.cancel(e)}}},[a("span",{staticClass:"cancel"},[t._v("取消")]),t._v(t._s(e.proposalId)+"\n                ")]):a("td",[t._v(t._s(e.proposalId))]),t._v(" "),a("td",[t._v(t._s(e.createTime.getDate().substr(5,11)))]),t._v(" "),a("td",[t._v(t._s(e.data.amount.toFixed(2))+"元")]),t._v(" "),a("td",[t._v(t._s(t.typeName[e.status]))])]):t._e()}),t._v(" "),t._l(t.records,function(e,s){return t.records&&2==t.tabNav?a("tr",{key:s},[a("td",[t._v(t._s(e.eventName))]),t._v(" "),a("td",[t._v(t._s(e.rewardAmount.toFixed(2))+"元")]),t._v(" "),a("td",[t._v(t._s(e.createTime.getDate().substr(5,11)))]),t._v(" "),a("td",[t._v(t._s(t.typeName[e.status]))])]):t._e()}),t._v(" "),t._l(t.records,function(e,s){return t.records&&3==t.tabNav?a("tr",{key:s},[a("td",{style:{width:t.searchDate[t.tabNav].prop}},[a("div",{staticClass:"line1"},[t._v(t._s(e.name))])]),t._v(" "),a("td",{style:{width:t.searchDate[t.tabNav].prop},on:{click:function(a){t.open(e)}}},[a("div",{staticClass:"line1",staticStyle:{width:"1.2rem"}},[t._v(t._s(e.orderNo))]),t._v(" "),a("span",{staticClass:"open"},[t._v("!")])]),t._v(" "),a("td",{style:{width:t.searchDate[t.tabNav].prop}},[t._v(t._s(e.validAmount.toFixed(2)))]),t._v(" "),a("td",{style:{width:t.searchDate[t.tabNav].prop}},[t._v(t._s(e.bonusAmount.toFixed(2)))]),t._v(" "),a("td",{style:{width:t.searchDate[t.tabNav].prop}},[t._v(t._s(e.createTime.getDate().substr(5,11)))])]):t._e()})],2),t._v(" "),t.records&&0==t.tabNav?a("div",{staticClass:"show"},[a("span",[t._v("合计存款："+t._s(t.stats.totalAmount.toFixed(2))+"元")])]):t._e(),t._v(" "),t.records&&1==t.tabNav?a("div",{staticClass:"show"},[a("span",[t._v("合计提款："+t._s(t.stats.totalAmount&&t.stats.totalAmount.toFixed(2))+"元")])]):t._e(),t._v(" "),t.records&&2==t.tabNav?a("div",{staticClass:"show"},[a("span",[t._v("合计优惠："+t._s(t.stats.totalAmount.toFixed(2))+"元")])]):t._e(),t._v(" "),t.records&&3==t.tabNav?a("div",{staticClass:"show"},[a("span",[t._v("共计投注："+t._s(t.stats.totalValidAmount.toFixed(2))+"元")]),t._v(" "),a("span",[t._v("盈利金额："+t._s(t.stats.totalBonusAmount.toFixed(2))+"元")]),a("br")]):t._e(),t._v(" "),t.stats.totalCount>10?a("div",{staticClass:"flip"},[a("span",[t._v("共"+t._s(t.stats.totalCount)+"条记录，每页10条，当前"+t._s(t.stats.startIndex/10+1)+"/"+t._s(Math.ceil(t.stats.totalCount/10))+"页")]),t._v(" "),a("div",{staticClass:"operation",attrs:{flex:"box:mean"}},[a("span",{staticClass:"iconfont icon-pintuangouwuqianwanganniu2-copy",on:{click:function(e){--t.nowPage}}}),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.nowPage,expression:"nowPage"}],attrs:{name:"page"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.nowPage=e.target.multiple?a:a[0]}}},t._l(new Array(Math.ceil(t.stats.totalCount/10)),function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(t._s(s+1)+"\n                    ")])})),t._v(" "),a("span",{staticClass:"iconfont icon-pintuangouwuqianwanganniu",on:{click:function(e){++t.nowPage}}})])]):t._e(),t._v(" "),a("div",{staticClass:"btn",on:{click:function(e){t.records=[]}}},[t._v("更多查询")])]):a("div",{staticClass:"form_box2"},[a("div",{staticClass:"item item_input",attrs:{flex:"box:first cross:center"}},[a("div",{staticClass:"name"},[t._v(t._s(t.searchDate[t.tabNav].type))]),t._v(" "),a("div",{staticClass:"text_box",attrs:{flex:"cross:center"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.sendData.type,expression:"sendData.type"}],attrs:{name:"bank"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.sendData,"type",e.target.multiple?a:a[0])}}},t._l(t.searchDate[t.tabNav].list,function(e,s){return a("option",{key:s,domProps:{value:e.type}},[t._v("\n                        "+t._s(e.nickName)+"\n                    ")])})),t._v(" "),a("i")])]),t._v(" "),a("div",{staticClass:"item item_input",attrs:{flex:"box:first cross:center"}},[a("div",{staticClass:"name"},[t._v("开始时间")]),t._v(" "),a("div",{staticClass:"text_box",attrs:{flex:"cross:center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sendData.startTime,expression:"sendData.startTime"}],attrs:{type:"datetime-local",placeholder:"请选择开始时间"},domProps:{value:t.sendData.startTime},on:{input:function(e){e.target.composing||t.$set(t.sendData,"startTime",e.target.value)}}}),t._v(" "),a("i")])]),t._v(" "),a("div",{staticClass:"item item_input",attrs:{flex:"box:first cross:center"}},[a("div",{staticClass:"name"},[t._v("结束时间")]),t._v(" "),a("div",{staticClass:"text_box",attrs:{flex:"cross:center"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sendData.endTime,expression:"sendData.endTime"}],attrs:{type:"datetime-local",placeholder:"请选择结束时间"},domProps:{value:t.sendData.endTime},on:{input:function(e){e.target.composing||t.$set(t.sendData,"endTime",e.target.value)}}}),t._v(" "),a("i")])]),t._v(" "),a("div",{staticClass:"item item_btn"},[a("div",{staticClass:"btn",on:{click:t.search}},[t._v("查询")])])])],1)},staticRenderFns:[]},v=a("VU/8")(l,d,!1,null,null,null);e.default=v.exports},Gu7T:function(t,e,a){"use strict";e.__esModule=!0;var s,n=a("c/Tr"),i=(s=n)&&s.__esModule?s:{default:s};e.default=function(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return(0,i.default)(t)}},"c/Tr":function(t,e,a){t.exports={default:a("5zde"),__esModule:!0}},fBQ2:function(t,e,a){"use strict";var s=a("evD5"),n=a("X8DO");t.exports=function(t,e,a){e in t?s.f(t,e,n(0,a)):t[e]=a}},qyJz:function(t,e,a){"use strict";var s=a("+ZMJ"),n=a("kM2E"),i=a("sB3e"),r=a("msXi"),o=a("Mhyx"),c=a("QRG4"),l=a("fBQ2"),d=a("3fs2");n(n.S+n.F*!a("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,n,v,u=i(t),p="function"==typeof this?this:Array,_=arguments.length,h=_>1?arguments[1]:void 0,m=void 0!==h,f=0,y=d(u);if(m&&(h=s(h,_>2?arguments[2]:void 0,2)),void 0==y||p==Array&&o(y))for(a=new p(e=c(u.length));e>f;f++)l(a,f,m?h(u[f],f):u[f]);else for(v=y.call(u),a=new p;!(n=v.next()).done;f++)l(a,f,m?r(v,h,[n.value,f],!0):n.value);return a.length=f,a}})}});